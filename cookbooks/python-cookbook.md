## Python Cookbook
[toc]
### 写在前面
本文是本人在学习python语言中的笔记，有引用互联网上的资料，如果有侵权，麻烦请联系792706244@qq.com删除。
### 编程规范
- 通常用全部大写的变量名表示常量
```
    PI = 3.14159265359
```


### 编码问题
- utf-8<br>
`ASCII`码是一个字节，`Unicode`一般为2个字节，但是对于生僻汉字也有可能是4个字节。`utf-8`为了解决表示能力和存储空间的trade-off提出的一种编码方式，在`utf-8`中英文和数字是一个字节，汉字是三个字节，生僻汉字是四到六个字节。所以在传输字符中包含大量的英文和数字的时候，`utf-8`才能达到节省空间的效果。<br>
**`ASCII`可以看做是`UTF-8`编码的一部分，大量只支持`ASCII`编码的软件可以在`UTF-8`下继续工作。**


- unicode
在计算机内存中，统一使用`unicode`编码，当需要保存或者传输的时候，就转换成`utf-8`编码。


- str<br>
`str`在内存中以`Unicode`表示，如果要在网络上传输或者保存到磁盘上，需要把`str`变为以字节为单位的`bytes`。<br>
纯英文的`str`可以用`ASCII`编码成`bytes`。<br>
含有中文的`str`需要用`UTF-8`编码成`bytes`。<br>
`str`到`bytes`需要用`encode()`方法


- `bytes`<br>
从网络或者硬盘上读取字节流，数据为`byte`格式。<br>
从`bytes`到`str`用`decode()`方法。<br>
在`bytes`中，无法显示为`ASCII`字节的字符，用`\x##`表示。<br>
**在`encode()`和`decode()`过程中出现很少错误可以适用参数：`erros='ignore'`**


- **python 中用`ord()`获取字符的整数表示，用`chr()`将编码转换成对应字符**


- `len`<br>
`len()`函数用于计算字符串的长度，需要计算字节长度的话编码成`bytes`用`len()`。


- 格式化<br>
格式化的占位符有`%d %f %s %x(16进制`，在不确定用什么的时候用`%s`肯定没问题。<br>
字符串中表示一个普通的`%`用`%%`。<br>




### list
- 取出<br>
> `pop()`: 对于`list`，`pop（）`默认将数组最后一个元素弹出，会改变数组本身取值，`pop(index)`表示将`index`位置处的元素弹出。<br>


- 插入<br>
> `append(elem)`: 将`elem`添加到`list`尾部。<br>
> `insert(index, elem)`: 将`elem`添加到索引为`index`的位置处。<br>

### tuple
`tuple`和`list`非常相似，但是`tuple`一旦初始化就无法修改，也就是没有一些插入或者取出的方法。<br>
在只有一个元素的`tuple`中需要加`,`消除和`()`的歧义：
```
>>> t = (1)
>>> t
1
>>> t = (1, )
>>> t
(1,)
```
若想`tuple`可变，可以在`tuple`元素中加入可变元素，比如说`list`


### dict
`key-value`对，具有极快的存储速度，能够给定`key`直接得到`value`存储的位置，本质上也是利用空间换时间(`hash`)。<br>
`dict`:
> 查找和插入的速度极快，不会随着key的增加而变慢；
> 需要占用大量的内存，内存浪费多。

`list`:
> 查找和插入的时间随着元素的增加而增加；<br>
> 占用空间小，浪费内存很少。

### set
`set`是一组`key`的j集合，但是不会存储`value`，`set`中没有重复值。
> add(key):添加元素到set中，可以重复添加但无效果。<br>
> remove(key): 删除元素，key不存在则报错



### difference
- `is` 和 `==`
    - 在python中，万物都是对象，每个对象包括`id`, `type`, `value`
    - `is`是判断对象`id`是否相等，`==`判断值是否相等
    - python中对`[-5, 256]`这种小数值会进行缓存，缓存区相同的数值会有相同的`id`
    > a, b = 256, 256      
    > a is b -> true<br>
    > a, b = 257, 257<br>
    > a is b -> false<br>
    > a == b -> true

    - 多数时候`is`和`==`一样，但是`is`效率比`==`高
    
    
    
- 可变对象和不可变对象<br>
改变可变对象，对象的内容会相应改变。改变不可变对象，不可变对象本身不会改变，但是会创造新的对象并且返回。
```
>>> a = 'abc'
>>> b = a.replace('a', 'A')
>>> b
'Abc'
>>> a
'abc'
```
    

### ref
- [廖雪峰python教程](https://www.liaoxuefeng.com/wiki/0014316089557264a6b348958f449949df42a6d3a2e542c000/001431664106267f12e9bef7ee14cf6a8776a479bdec9b9000)

